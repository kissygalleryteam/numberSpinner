/*! numberSpinner - v2.0.0 - 2013-08-28 2:24:55 PM
* Copyright (c) 2013 知了; Licensed  */
KISSY.add("kg/numberSpinner/2.0.0/index",function(a,b,c){"use strict";function d(a,c){return this instanceof d?(this.ele=b.one(a),d.superclass.constructor.call(this,c),this.init(),void 0):new d(a,c)}return a.extend(d,c,{init:function(){this._initValue(),this._bind()},_initValue:function(){var a=this.ele.val();a||this.ele.val(this.get("value"))},_bind:function(){var a=this.get("numberSpinnerClass"),c=this.get("numberIncreaseClass"),d=this.get("numberDecreaseClass"),e=b.all(c,a),f=b.all(d,a);e.on("click",function(){this._increase()},this),f.on("click",function(){this._decrease()},this),this._bindKeyBoard()},_bindKeyBoard:function(){var a=b.one(document.body);a.on("keydown",function(a){40===a.keyCode&&(this._increase(),a.preventDefault()),38===a.keyCode&&(this._decrease(),a.preventDefault())},this)},_increase:function(){var a=parseInt(this.ele.val(),10)+this.get("step"),b=this.get("max");a>b&&(a=b),this.ele.val(a)},_decrease:function(){var a=parseInt(this.ele.val(),10)-this.get("step"),b=this.get("min");b>a&&(a=b),this.ele.val(a)}},{ATTRS:{value:{value:1},step:{value:1},min:{value:1},max:{value:2.0.0},numberSpinnerClass:{value:".wt-numberspinner-widget"},numberIncreaseClass:{value:".increase"},numberDecreaseClass:{value:".decrease"}}}),d},{requires:["node","base"]});